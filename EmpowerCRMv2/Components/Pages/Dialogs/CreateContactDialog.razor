@inject IContactService ContactService

<MudDialog>
    <DialogContent>
        <EditForm Model="@model" OnValidSubmit="OnValidSubmit">
        <DataAnnotationsValidator/>
            <MudCard>
                <MudCardContent>
                    <MudTextField Label="First name" 
                                  @bind-Value="model.FirstName" For="@(() => model.FirstName)" />
                    <MudTextField Label="Last name" Class="mt-3"
                                  @bind-Value="model.LastName" For="@(() => model.LastName)" />
                    <MudTextField Label="Email" Class="mt-3"
                                  @bind-Value="model.Email" For="@(() => model.Email)" />
                    <MudTextField Label="Phone" Class="mt-3"
                                  @bind-Value="model.Phone" For="@(() => model.Phone)" />
                    <MudTextField Label="Company" Class="mt-3"
                                  @bind-Value="model.Company" For="@(() => model.Company)" />
                    <MudTextField Label="Address" Class="mt-3"
                                  @bind-Value="model.Address" For="@(() => model.Address)" />
                </MudCardContent>
                <MudCardActions>
                    <MudSpacer />
                    <MudButton OnClick="Cancel">Cancel</MudButton>
                    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled"
                               Color="Color.Primary">Create</MudButton>
                </MudCardActions>
            </MudCard>
        </EditForm>
    </DialogContent>
</MudDialog>
@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }
    Contact model = new Contact();


    void Cancel() => MudDialog.Cancel();

    private async void OnValidSubmit(EditContext context)
    {
        if (model is not null)
        {
            await ContactService.AddContactItemAsync(model);
        }
        MudDialog.Close(DialogResult.Ok(model));
    }
}